<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>gamebois</title>
        <link rel="icon" type="image/gif" href="/gamebois/imageAssets/gameboislogo512.gif"/>
        <link rel="stylesheet" type="text/css" href="main.css">
    </head>
    <body class = "player">
        <div class="container" class="player" style="margin:auto; width:1280px; height:960px; max-width:100%; max-height:90%;">
            <div class="game" id="game"></div>
            <p>remember to download saves!</p>
        </div>
        
        <script type="text/javascript">
            var previous = {game:gamename, type:type}
            localStorage.setItem('previous', JSON.stringify(previous))

            var directory = "games/";
            const gamename = new URLSearchParams(window.location.search).get('game')
            const type = new URLSearchParams(window.location.search).get('type')
            const zippedGames = ["nds", "gb", "gbc", "gba"]
            //style="margin:auto; width:640px; height:480px; max-width:100%"
            if (zippedGames.includes(type)) {
                var game = String(directory) + String(type) + "/" + String(gamename) + ".zip"
            } else {
                var game = String(directory) + String(type) + "/" + String(gamename) + "." + String(type)
            }
            
            EJS_startOnLoaded = true;
            EJS_color = '#88c070'
            EJS_player = '#game';
            EJS_biosUrl = '';
            EJS_gameUrl = game; // Url to Game rom
            EJS_core = type;
            EJS_pathtodata = 'data/'; //path to all of the wasm and js files. MUST all be in the same directory!!
        </script>
        <script src="data/loader.js"></script>

    </body>
</html>
