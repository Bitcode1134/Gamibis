<html lang ="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gamebois</title>
    <link rel="icon" type="image/gif" href="/gamebois/imageAssets/gameboislogo512.gif"/>
    <link rel="stylesheet" type="text/css" href="main.css">
  </head>
  <body>
    <br>
    <h1>
      <a href="/gamebois/index.html">gamebois</a>
    </h1>

    <div id="games">

    </div>

    <br>
    <script>
      const div = document.getElementById("games");

      const urlParams = new URLSearchParams(window.location.search);
      var type
      if(urlParams.has("type")){
        type = new URLSearchParams(window.location.search).get('type');
      }else{
        type = false;
      }

      //lists of games by type
      const gb = ["tetris", "metroid-ii-return-of-samus", "wario-land", "pokemon-red", "pokemon-blue", "pokemon-yellow", "super-mario-land", "super-mario-land-2", "donkey-kong", "donkey-kong-land", "donkey-kong-land-2", "donkey-kong-land-3", "kirbys-dream-land", "kirbys-dream-land-2"];
      const gbc = ["mega-man-xtreme", "mega-man-xtreme-2", "oracle-of-ages", "oracle-of-seasons", "wario-land-2", "wario-land-3", "links-awakening-dx", "pokemon-crystal", "pokemon-gold", "pokemon-silver", "super-mario-bros-delux"];
      const gba = ["the-minish-cap", "friends-of-mineral-town", "mario-cart-super-circuit", "mario-and-luigi-superstar-saga", "pokemon-ruby", "pokemon-sapphire", "pokemon-emerald", "pokemon-fire-red", "pokemon-leaf-green", "metroid-fusion", "metroid-zero-mission", "super-mario-bros-2", "super-mario-bros-3", "super-mario-world", "yoshis-island"];
      const nds = ["pokemon-diamond", "pokemon-pearl", "pokemon-platinum", "mario-kart-ds", "super-mario-64-ds", "new-super-mario-bros", "nintendogs-best-friends"];

      var gameslist
      if(type == "gb"){
        gameslist = gb;
      }else if(type == "gbc"){
        gameslist = gbc;
      }else if(type == "gba"){
        gameslist = gba;
      }else if(type == "nds"){
        gameslist = nds;
      }else{
        gameslist = [...gb, ...gbc, ...gba, ...nds];
      }

      function listGames(){
        div.innerHTML = "";
        for (let i = 0; i < gameslist.length; i++) {
          var console
          if(type != false){
            console = type
          }else if(gb.includes(gameslist[i])){
            console = "gb";
          }else if(gbc.includes(gameslist[i])){
            console = "gbc";
          }else if(gba.includes(gameslist[i])){
            console = "gba";
          }else if(nds.includes(gameslist[i])){
            console = "nds";
          }
          
          var link = "player.html?game=" + gameslist[i] + "&type=" + console;
          var imageurl = "/gamebois/imageAssets/" + console + "/" + gameslist[i] + ".png";

          const a = document.createElement("a");
          a.setAttribute("href", link);
          a.setAttribute("id", gameslist[i])

          const img = new Image();
          img.src = imageurl;
          a.appendChild(img);
          
          div.appendChild(a);
          a.className = "a"
          img.className = "img"
        }
      }

      listGames();

    </script>
  </body>
